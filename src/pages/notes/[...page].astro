---
import { getCollection } from 'astro:content';
import type { Page } from "astro";
import type { CollectionEntry } from "astro:content";
import NotesPage from "../../components/sections/notes/NotesPage.astro";

export async function getStaticPaths({ paginate }) {
    const notes = await getCollection("notes");
    const latestNotes = notes.sort((a, b) =>
        new Date(b.data.datetime).getTime() - new Date(a.data.datetime).getTime()
    );

    return paginate(latestNotes, {
        pageSize: 10,
    });
}

export interface Props {
  page: Page<CollectionEntry<"notes">>;
}

const { page } = Astro.props;
---

<NotesPage page={page} />